{
                Copyright (C) 2020 Theodoros Siklafidis

    This file is part of BVS.

    BVS is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    BVS is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with BVS. If not, see <https://www.gnu.org/licenses/>.
}

unit frmSimulation_u;

{$mode objfpc}{$H+}

interface

uses
  Classes, SysUtils, Forms, Controls, Graphics, Dialogs, ExtCtrls, LCLIntf,
  StdCtrls, math;

type
  TShapePointerList = array[0..MaxListSize - 1] of ^TShape;

  { TfrmSimulation }

  TfrmSimulation = class(TForm)
   shp0, shp1, shp2, shp3, shp4, shp5, shp6, shp7, shp8, shp9, shp10, shp11, shp12, shp13, shp14, shp15, shp16, shp17, shp18, shp19, shp20, shp21, shp22, shp23, shp24, shp25, shp26, shp27, shp28, shp29, shp30, shp31, shp32, shp33, shp34, shp35, shp36, shp37, shp38, shp39, shp40, shp41, shp42, shp43, shp44, shp45, shp46, shp47, shp48, shp49, shp50, shp51, shp52, shp53, shp54, shp55, shp56, shp57, shp58, shp59, shp60, shp61, shp62, shp63, shp64, shp65, shp66, shp67, shp68, shp69, shp70, shp71, shp72, shp73, shp74, shp75, shp76, shp77, shp78, shp79, shp80, shp81, shp82, shp83, shp84, shp85, shp86, shp87, shp88, shp89, shp90, shp91, shp92, shp93, shp94, shp95, shp96, shp97, shp98, shp99, shp100, shp101, shp102, shp103, shp104, shp105, shp106, shp107, shp108, shp109, shp110, shp111, shp112, shp113, shp114, shp115, shp116, shp117, shp118, shp119, shp120, shp121, shp122, shp123, shp124, shp125, shp126, shp127, shp128, shp129, shp130, shp131, shp132, shp133, shp134, shp135, shp136, shp137, shp138, shp139, shp140, shp141, shp142, shp143, shp144, shp145, shp146, shp147, shp148, shp149, shp150, shp151, shp152, shp153, shp154, shp155, shp156, shp157, shp158, shp159, shp160, shp161, shp162, shp163, shp164, shp165, shp166, shp167, shp168, shp169, shp170, shp171, shp172, shp173, shp174, shp175, shp176, shp177, shp178, shp179, shp180, shp181, shp182, shp183, shp184, shp185, shp186, shp187, shp188, shp189, shp190, shp191, shp192, shp193, shp194, shp195, shp196, shp197, shp198, shp199, shp200, shp201, shp202, shp203, shp204, shp205, shp206, shp207, shp208, shp209, shp210, shp211, shp212, shp213, shp214, shp215, shp216, shp217, shp218, shp219, shp220, shp221, shp222, shp223, shp224, shp225, shp226, shp227, shp228, shp229, shp230, shp231, shp232, shp233, shp234, shp235, shp236, shp237, shp238, shp239, shp240, shp241, shp242, shp243, shp244, shp245, shp246, shp247, shp248, shp249, shp250, shp251, shp252, shp253, shp254, shp255, shp256, shp257, shp258, shp259, shp260, shp261, shp262, shp263, shp264, shp265, shp266, shp267, shp268, shp269, shp270, shp271, shp272, shp273, shp274, shp275, shp276, shp277, shp278, shp279, shp280, shp281, shp282, shp283, shp284, shp285, shp286, shp287, shp288, shp289, shp290, shp291, shp292, shp293, shp294, shp295, shp296, shp297, shp298, shp299, shp300, shp301, shp302, shp303, shp304, shp305, shp306, shp307, shp308, shp309, shp310, shp311, shp312, shp313, shp314, shp315, shp316, shp317, shp318, shp319, shp320, shp321, shp322, shp323, shp324, shp325, shp326, shp327, shp328, shp329, shp330, shp331, shp332, shp333, shp334, shp335, shp336, shp337, shp338, shp339, shp340, shp341, shp342, shp343, shp344, shp345, shp346, shp347, shp348, shp349, shp350, shp351, shp352, shp353, shp354, shp355, shp356, shp357, shp358, shp359, shp360, shp361, shp362, shp363, shp364, shp365, shp366, shp367, shp368, shp369, shp370, shp371, shp372, shp373, shp374, shp375, shp376, shp377, shp378, shp379, shp380, shp381, shp382, shp383, shp384, shp385, shp386, shp387, shp388, shp389, shp390, shp391, shp392, shp393, shp394, shp395, shp396, shp397, shp398, shp399, shp400, shp401, shp402, shp403, shp404, shp405, shp406, shp407, shp408, shp409, shp410, shp411, shp412, shp413, shp414, shp415, shp416, shp417, shp418, shp419, shp420, shp421, shp422, shp423, shp424, shp425, shp426, shp427, shp428, shp429, shp430, shp431, shp432, shp433, shp434, shp435, shp436, shp437, shp438, shp439, shp440, shp441, shp442, shp443, shp444, shp445, shp446, shp447, shp448, shp449, shp450, shp451, shp452, shp453, shp454, shp455, shp456, shp457, shp458, shp459, shp460, shp461, shp462, shp463, shp464, shp465, shp466, shp467, shp468, shp469, shp470, shp471, shp472, shp473, shp474, shp475, shp476, shp477, shp478, shp479, shp480, shp481, shp482, shp483, shp484, shp485, shp486, shp487, shp488, shp489, shp490, shp491, shp492, shp493, shp494, shp495, shp496, shp497, shp498, shp499, shp500, shp501, shp502, shp503, shp504, shp505, shp506, shp507, shp508, shp509, shp510, shp511, shp512, shp513, shp514, shp515, shp516, shp517, shp518, shp519, shp520, shp521, shp522, shp523, shp524, shp525, shp526, shp527, shp528, shp529, shp530, shp531, shp532, shp533, shp534, shp535, shp536, shp537, shp538, shp539, shp540, shp541, shp542, shp543, shp544, shp545, shp546, shp547, shp548, shp549, shp550, shp551, shp552, shp553, shp554, shp555, shp556, shp557, shp558, shp559, shp560, shp561, shp562, shp563, shp564, shp565, shp566, shp567, shp568, shp569, shp570, shp571, shp572, shp573, shp574, shp575, shp576, shp577, shp578, shp579, shp580, shp581, shp582, shp583, shp584, shp585, shp586, shp587, shp588, shp589, shp590, shp591, shp592, shp593, shp594, shp595, shp596, shp597, shp598, shp599, shp600, shp601, shp602, shp603, shp604, shp605, shp606, shp607, shp608, shp609, shp610, shp611, shp612, shp613, shp614, shp615, shp616, shp617, shp618, shp619, shp620, shp621, shp622, shp623, shp624, shp625, shp626, shp627, shp628, shp629, shp630, shp631, shp632, shp633, shp634, shp635, shp636, shp637, shp638, shp639, shp640, shp641, shp642, shp643, shp644, shp645, shp646, shp647, shp648, shp649, shp650, shp651, shp652, shp653, shp654, shp655, shp656, shp657, shp658, shp659, shp660, shp661, shp662, shp663, shp664, shp665, shp666, shp667, shp668, shp669, shp670, shp671, shp672, shp673, shp674, shp675, shp676, shp677, shp678, shp679, shp680, shp681, shp682, shp683, shp684, shp685, shp686, shp687, shp688, shp689, shp690, shp691, shp692, shp693, shp694, shp695, shp696, shp697, shp698, shp699, shp700, shp701, shp702, shp703, shp704, shp705, shp706, shp707, shp708, shp709, shp710, shp711, shp712, shp713, shp714, shp715, shp716, shp717, shp718, shp719, shp720, shp721, shp722, shp723, shp724, shp725, shp726, shp727, shp728, shp729, shp730, shp731, shp732, shp733, shp734, shp735, shp736, shp737, shp738, shp739, shp740, shp741, shp742, shp743, shp744, shp745, shp746, shp747, shp748, shp749, shp750, shp751, shp752, shp753, shp754, shp755, shp756, shp757, shp758, shp759, shp760, shp761, shp762, shp763, shp764, shp765, shp766, shp767, shp768, shp769, shp770, shp771, shp772, shp773, shp774, shp775, shp776, shp777, shp778, shp779, shp780, shp781, shp782, shp783, shp784, shp785, shp786, shp787, shp788, shp789, shp790, shp791, shp792, shp793, shp794, shp795, shp796, shp797, shp798, shp799, shp800, shp801, shp802, shp803, shp804, shp805, shp806, shp807, shp808, shp809, shp810, shp811, shp812, shp813, shp814, shp815, shp816, shp817, shp818, shp819, shp820, shp821, shp822, shp823, shp824, shp825, shp826, shp827, shp828, shp829, shp830, shp831, shp832, shp833, shp834, shp835, shp836, shp837, shp838, shp839, shp840, shp841, shp842, shp843, shp844, shp845, shp846, shp847, shp848, shp849, shp850, shp851, shp852, shp853, shp854, shp855, shp856, shp857, shp858, shp859, shp860, shp861, shp862, shp863, shp864, shp865, shp866, shp867, shp868, shp869, shp870, shp871, shp872, shp873, shp874, shp875, shp876, shp877, shp878, shp879, shp880, shp881, shp882, shp883, shp884, shp885, shp886, shp887, shp888, shp889, shp890, shp891, shp892, shp893, shp894, shp895, shp896, shp897, shp898, shp899, shp900, shp901, shp902, shp903, shp904, shp905, shp906, shp907, shp908, shp909, shp910, shp911, shp912, shp913, shp914, shp915, shp916, shp917, shp918, shp919, shp920, shp921, shp922, shp923, shp924, shp925, shp926, shp927, shp928, shp929, shp930, shp931, shp932, shp933, shp934, shp935, shp936, shp937, shp938, shp939, shp940, shp941, shp942, shp943, shp944, shp945, shp946, shp947, shp948, shp949, shp950, shp951, shp952, shp953, shp954, shp955, shp956, shp957, shp958, shp959, shp960, shp961, shp962, shp963, shp964, shp965, shp966, shp967, shp968, shp969, shp970, shp971, shp972, shp973, shp974, shp975, shp976, shp977, shp978, shp979, shp980, shp981, shp982, shp983, shp984, shp985, shp986, shp987, shp988, shp989, shp990, shp991, shp992, shp993, shp994, shp995, shp996, shp997, shp998, shp999, shp1000, shp1001, shp1002, shp1003, shp1004, shp1005, shp1006, shp1007, shp1008, shp1009, shp1010, shp1011, shp1012, shp1013, shp1014, shp1015, shp1016, shp1017, shp1018, shp1019, shp1020, shp1021, shp1022, shp1023, shp1024, shp1025, shp1026, shp1027, shp1028, shp1029, shp1030, shp1031, shp1032, shp1033, shp1034, shp1035, shp1036, shp1037, shp1038, shp1039, shp1040, shp1041, shp1042, shp1043, shp1044, shp1045, shp1046, shp1047, shp1048, shp1049, shp1050, shp1051, shp1052, shp1053, shp1054, shp1055, shp1056, shp1057, shp1058, shp1059, shp1060, shp1061, shp1062, shp1063, shp1064, shp1065, shp1066, shp1067, shp1068, shp1069, shp1070, shp1071, shp1072, shp1073, shp1074, shp1075, shp1076, shp1077, shp1078, shp1079, shp1080, shp1081, shp1082, shp1083, shp1084, shp1085, shp1086, shp1087, shp1088, shp1089, shp1090, shp1091, shp1092, shp1093, shp1094, shp1095, shp1096, shp1097, shp1098, shp1099, shp1100, shp1101, shp1102, shp1103, shp1104, shp1105, shp1106, shp1107, shp1108, shp1109, shp1110, shp1111, shp1112, shp1113, shp1114, shp1115, shp1116, shp1117, shp1118, shp1119, shp1120, shp1121, shp1122, shp1123, shp1124, shp1125, shp1126, shp1127, shp1128, shp1129, shp1130, shp1131, shp1132, shp1133, shp1134, shp1135, shp1136, shp1137, shp1138, shp1139, shp1140, shp1141, shp1142, shp1143, shp1144, shp1145, shp1146, shp1147, shp1148, shp1149, shp1150, shp1151, shp1152, shp1153, shp1154, shp1155, shp1156, shp1157, shp1158, shp1159, shp1160, shp1161, shp1162, shp1163, shp1164, shp1165, shp1166, shp1167, shp1168, shp1169, shp1170, shp1171, shp1172, shp1173, shp1174, shp1175, shp1176, shp1177, shp1178, shp1179, shp1180, shp1181, shp1182, shp1183, shp1184, shp1185, shp1186, shp1187, shp1188, shp1189, shp1190, shp1191, shp1192, shp1193, shp1194, shp1195, shp1196, shp1197, shp1198, shp1199, shp1200, shp1201, shp1202, shp1203, shp1204, shp1205, shp1206, shp1207, shp1208, shp1209, shp1210, shp1211, shp1212, shp1213, shp1214, shp1215, shp1216, shp1217, shp1218, shp1219, shp1220, shp1221, shp1222, shp1223, shp1224, shp1225, shp1226, shp1227, shp1228, shp1229, shp1230, shp1231, shp1232, shp1233, shp1234, shp1235, shp1236, shp1237, shp1238, shp1239, shp1240, shp1241, shp1242, shp1243, shp1244, shp1245, shp1246, shp1247, shp1248, shp1249, shp1250, shp1251, shp1252, shp1253, shp1254, shp1255, shp1256, shp1257, shp1258, shp1259, shp1260, shp1261, shp1262, shp1263, shp1264, shp1265, shp1266, shp1267, shp1268, shp1269, shp1270, shp1271, shp1272, shp1273, shp1274, shp1275, shp1276, shp1277, shp1278, shp1279, shp1280, shp1281, shp1282, shp1283, shp1284, shp1285, shp1286, shp1287, shp1288, shp1289, shp1290, shp1291, shp1292, shp1293, shp1294, shp1295, shp1296, shp1297, shp1298, shp1299, shp1300, shp1301, shp1302, shp1303, shp1304, shp1305, shp1306, shp1307, shp1308, shp1309, shp1310, shp1311, shp1312, shp1313, shp1314, shp1315, shp1316, shp1317, shp1318, shp1319, shp1320, shp1321, shp1322, shp1323, shp1324, shp1325, shp1326, shp1327, shp1328, shp1329, shp1330, shp1331, shp1332, shp1333, shp1334, shp1335, shp1336, shp1337, shp1338, shp1339, shp1340, shp1341, shp1342, shp1343, shp1344, shp1345, shp1346, shp1347, shp1348, shp1349, shp1350, shp1351, shp1352, shp1353, shp1354, shp1355, shp1356, shp1357, shp1358, shp1359, shp1360, shp1361, shp1362, shp1363, shp1364, shp1365, shp1366, shp1367, shp1368, shp1369, shp1370, shp1371, shp1372, shp1373, shp1374, shp1375, shp1376, shp1377, shp1378, shp1379, shp1380, shp1381, shp1382, shp1383, shp1384, shp1385, shp1386, shp1387, shp1388, shp1389, shp1390, shp1391, shp1392, shp1393, shp1394, shp1395, shp1396, shp1397, shp1398, shp1399, shp1400, shp1401, shp1402, shp1403, shp1404, shp1405, shp1406, shp1407, shp1408, shp1409, shp1410, shp1411, shp1412, shp1413, shp1414, shp1415, shp1416, shp1417, shp1418, shp1419, shp1420, shp1421, shp1422, shp1423, shp1424, shp1425, shp1426, shp1427, shp1428, shp1429, shp1430, shp1431, shp1432, shp1433, shp1434, shp1435, shp1436, shp1437, shp1438, shp1439, shp1440, shp1441, shp1442, shp1443, shp1444, shp1445, shp1446, shp1447, shp1448, shp1449, shp1450, shp1451, shp1452, shp1453, shp1454, shp1455, shp1456, shp1457, shp1458, shp1459, shp1460, shp1461, shp1462, shp1463, shp1464, shp1465, shp1466, shp1467, shp1468, shp1469, shp1470, shp1471, shp1472, shp1473, shp1474, shp1475, shp1476, shp1477, shp1478, shp1479, shp1480, shp1481, shp1482, shp1483, shp1484, shp1485, shp1486, shp1487, shp1488, shp1489, shp1490, shp1491, shp1492, shp1493, shp1494, shp1495, shp1496, shp1497, shp1498, shp1499, shp1500, shp1501, shp1502, shp1503, shp1504, shp1505, shp1506, shp1507, shp1508, shp1509, shp1510, shp1511, shp1512, shp1513, shp1514, shp1515, shp1516, shp1517, shp1518, shp1519, shp1520, shp1521, shp1522, shp1523, shp1524, shp1525, shp1526, shp1527, shp1528, shp1529, shp1530, shp1531, shp1532, shp1533, shp1534, shp1535, shp1536, shp1537, shp1538, shp1539, shp1540, shp1541, shp1542, shp1543, shp1544, shp1545, shp1546, shp1547, shp1548, shp1549, shp1550, shp1551, shp1552, shp1553, shp1554, shp1555, shp1556, shp1557, shp1558, shp1559, shp1560, shp1561, shp1562, shp1563, shp1564, shp1565, shp1566, shp1567, shp1568, shp1569, shp1570, shp1571, shp1572, shp1573, shp1574, shp1575, shp1576, shp1577, shp1578, shp1579, shp1580, shp1581, shp1582, shp1583, shp1584, shp1585, shp1586, shp1587, shp1588, shp1589, shp1590, shp1591, shp1592, shp1593, shp1594, shp1595, shp1596, shp1597, shp1598, shp1599, shp1600, shp1601, shp1602, shp1603, shp1604, shp1605, shp1606, shp1607, shp1608, shp1609, shp1610, shp1611, shp1612, shp1613, shp1614, shp1615, shp1616, shp1617, shp1618, shp1619, shp1620, shp1621, shp1622, shp1623, shp1624, shp1625, shp1626, shp1627, shp1628, shp1629, shp1630, shp1631, shp1632, shp1633, shp1634, shp1635, shp1636, shp1637, shp1638, shp1639, shp1640, shp1641, shp1642, shp1643, shp1644, shp1645, shp1646, shp1647, shp1648, shp1649, shp1650, shp1651, shp1652, shp1653, shp1654, shp1655, shp1656, shp1657, shp1658, shp1659, shp1660, shp1661, shp1662, shp1663, shp1664, shp1665, shp1666, shp1667, shp1668, shp1669, shp1670, shp1671, shp1672, shp1673, shp1674, shp1675, shp1676, shp1677, shp1678, shp1679, shp1680, shp1681, shp1682, shp1683, shp1684, shp1685, shp1686, shp1687, shp1688, shp1689, shp1690, shp1691, shp1692, shp1693, shp1694, shp1695, shp1696, shp1697, shp1698, shp1699, shp1700, shp1701, shp1702, shp1703, shp1704, shp1705, shp1706, shp1707, shp1708, shp1709, shp1710, shp1711, shp1712, shp1713, shp1714, shp1715, shp1716, shp1717, shp1718, shp1719, shp1720, shp1721, shp1722, shp1723, shp1724, shp1725, shp1726, shp1727, shp1728, shp1729, shp1730, shp1731, shp1732, shp1733, shp1734, shp1735, shp1736, shp1737, shp1738, shp1739, shp1740, shp1741, shp1742, shp1743, shp1744, shp1745, shp1746, shp1747, shp1748, shp1749, shp1750, shp1751, shp1752, shp1753, shp1754, shp1755, shp1756, shp1757, shp1758, shp1759, shp1760, shp1761, shp1762, shp1763, shp1764, shp1765, shp1766, shp1767, shp1768, shp1769, shp1770, shp1771, shp1772, shp1773, shp1774, shp1775, shp1776, shp1777, shp1778, shp1779, shp1780, shp1781, shp1782, shp1783, shp1784, shp1785, shp1786, shp1787, shp1788, shp1789, shp1790, shp1791, shp1792, shp1793, shp1794, shp1795, shp1796, shp1797, shp1798, shp1799, shp1800, shp1801, shp1802, shp1803, shp1804, shp1805, shp1806, shp1807, shp1808, shp1809, shp1810, shp1811, shp1812, shp1813, shp1814, shp1815, shp1816, shp1817, shp1818, shp1819, shp1820, shp1821, shp1822, shp1823, shp1824, shp1825, shp1826, shp1827, shp1828, shp1829, shp1830, shp1831, shp1832, shp1833, shp1834, shp1835, shp1836, shp1837, shp1838, shp1839, shp1840, shp1841, shp1842, shp1843, shp1844, shp1845, shp1846, shp1847, shp1848, shp1849, shp1850, shp1851, shp1852, shp1853, shp1854, shp1855, shp1856, shp1857, shp1858, shp1859, shp1860, shp1861, shp1862, shp1863, shp1864, shp1865, shp1866, shp1867, shp1868, shp1869, shp1870, shp1871, shp1872, shp1873, shp1874, shp1875, shp1876, shp1877, shp1878, shp1879, shp1880, shp1881, shp1882, shp1883, shp1884, shp1885, shp1886, shp1887, shp1888, shp1889, shp1890, shp1891, shp1892, shp1893, shp1894, shp1895, shp1896, shp1897, shp1898, shp1899, shp1900, shp1901, shp1902, shp1903, shp1904, shp1905, shp1906, shp1907, shp1908, shp1909, shp1910, shp1911, shp1912, shp1913, shp1914, shp1915, shp1916, shp1917, shp1918, shp1919, shp1920, shp1921, shp1922, shp1923, shp1924, shp1925, shp1926, shp1927, shp1928, shp1929, shp1930, shp1931, shp1932, shp1933, shp1934, shp1935, shp1936, shp1937, shp1938, shp1939, shp1940, shp1941, shp1942, shp1943, shp1944, shp1945, shp1946, shp1947, shp1948, shp1949, shp1950, shp1951, shp1952, shp1953, shp1954, shp1955, shp1956, shp1957, shp1958, shp1959, shp1960, shp1961, shp1962, shp1963, shp1964, shp1965, shp1966, shp1967, shp1968, shp1969, shp1970, shp1971, shp1972, shp1973, shp1974, shp1975, shp1976, shp1977, shp1978, shp1979, shp1980, shp1981, shp1982, shp1983, shp1984, shp1985, shp1986, shp1987, shp1988, shp1989, shp1990, shp1991, shp1992, shp1993, shp1994, shp1995, shp1996, shp1997, shp1998, shp1999, shp2000, shp2001, shp2002, shp2003, shp2004, shp2005, shp2006, shp2007, shp2008, shp2009, shp2010, shp2011, shp2012, shp2013, shp2014, shp2015, shp2016, shp2017, shp2018, shp2019, shp2020, shp2021, shp2022, shp2023, shp2024, shp2025, shp2026, shp2027, shp2028, shp2029, shp2030, shp2031, shp2032, shp2033, shp2034, shp2035, shp2036, shp2037, shp2038, shp2039, shp2040, shp2041, shp2042, shp2043, shp2044, shp2045, shp2046, shp2047, shp2048, shp2049, shp2050, shp2051, shp2052, shp2053, shp2054, shp2055, shp2056, shp2057, shp2058, shp2059, shp2060, shp2061, shp2062, shp2063, shp2064, shp2065, shp2066, shp2067, shp2068, shp2069, shp2070, shp2071, shp2072, shp2073, shp2074, shp2075, shp2076, shp2077, shp2078, shp2079, shp2080, shp2081, shp2082, shp2083, shp2084, shp2085, shp2086, shp2087, shp2088, shp2089, shp2090, shp2091, shp2092, shp2093, shp2094, shp2095, shp2096, shp2097, shp2098, shp2099, shp2100, shp2101, shp2102, shp2103, shp2104, shp2105, shp2106, shp2107, shp2108, shp2109, shp2110, shp2111, shp2112, shp2113, shp2114, shp2115, shp2116, shp2117, shp2118, shp2119, shp2120, shp2121, shp2122, shp2123, shp2124, shp2125, shp2126, shp2127, shp2128, shp2129, shp2130, shp2131, shp2132, shp2133, shp2134, shp2135, shp2136, shp2137, shp2138, shp2139, shp2140, shp2141, shp2142, shp2143, shp2144, shp2145, shp2146, shp2147, shp2148, shp2149, shp2150, shp2151, shp2152, shp2153, shp2154, shp2155, shp2156, shp2157, shp2158, shp2159, shp2160, shp2161, shp2162, shp2163, shp2164, shp2165, shp2166, shp2167, shp2168, shp2169, shp2170, shp2171, shp2172, shp2173, shp2174, shp2175, shp2176, shp2177, shp2178, shp2179, shp2180, shp2181, shp2182, shp2183, shp2184, shp2185, shp2186, shp2187, shp2188, shp2189, shp2190, shp2191, shp2192, shp2193, shp2194, shp2195, shp2196, shp2197, shp2198, shp2199, shp2200, shp2201, shp2202, shp2203, shp2204, shp2205, shp2206, shp2207, shp2208, shp2209, shp2210, shp2211, shp2212, shp2213, shp2214, shp2215, shp2216, shp2217, shp2218, shp2219, shp2220, shp2221, shp2222, shp2223, shp2224, shp2225, shp2226, shp2227, shp2228, shp2229, shp2230, shp2231, shp2232, shp2233, shp2234, shp2235, shp2236, shp2237, shp2238, shp2239, shp2240, shp2241, shp2242, shp2243, shp2244, shp2245, shp2246, shp2247, shp2248, shp2249, shp2250, shp2251, shp2252, shp2253, shp2254, shp2255, shp2256, shp2257, shp2258, shp2259, shp2260, shp2261, shp2262, shp2263, shp2264, shp2265, shp2266, shp2267, shp2268, shp2269, shp2270, shp2271, shp2272, shp2273, shp2274, shp2275, shp2276, shp2277, shp2278, shp2279, shp2280, shp2281, shp2282, shp2283, shp2284, shp2285, shp2286, shp2287, shp2288, shp2289, shp2290, shp2291, shp2292, shp2293, shp2294, shp2295, shp2296, shp2297, shp2298, shp2299, shp2300, shp2301, shp2302, shp2303, shp2304, shp2305, shp2306, shp2307, shp2308, shp2309, shp2310, shp2311, shp2312, shp2313, shp2314, shp2315, shp2316, shp2317, shp2318, shp2319, shp2320, shp2321, shp2322, shp2323, shp2324, shp2325, shp2326, shp2327, shp2328, shp2329, shp2330, shp2331, shp2332, shp2333, shp2334, shp2335, shp2336, shp2337, shp2338, shp2339, shp2340, shp2341, shp2342, shp2343, shp2344, shp2345, shp2346, shp2347, shp2348, shp2349, shp2350, shp2351, shp2352, shp2353, shp2354, shp2355, shp2356, shp2357, shp2358, shp2359, shp2360, shp2361, shp2362, shp2363, shp2364, shp2365, shp2366, shp2367, shp2368, shp2369, shp2370, shp2371, shp2372, shp2373, shp2374, shp2375, shp2376, shp2377, shp2378, shp2379, shp2380, shp2381, shp2382, shp2383, shp2384, shp2385, shp2386, shp2387, shp2388, shp2389, shp2390, shp2391, shp2392, shp2393, shp2394, shp2395, shp2396, shp2397, shp2398, shp2399, shp2400, shp2401, shp2402, shp2403, shp2404, shp2405, shp2406, shp2407, shp2408, shp2409, shp2410, shp2411, shp2412, shp2413, shp2414, shp2415, shp2416, shp2417, shp2418, shp2419, shp2420, shp2421, shp2422, shp2423, shp2424, shp2425, shp2426, shp2427, shp2428, shp2429, shp2430, shp2431, shp2432, shp2433, shp2434, shp2435, shp2436, shp2437, shp2438, shp2439, shp2440, shp2441, shp2442, shp2443, shp2444, shp2445, shp2446, shp2447, shp2448, shp2449, shp2450, shp2451, shp2452, shp2453, shp2454, shp2455, shp2456, shp2457, shp2458, shp2459, shp2460, shp2461, shp2462, shp2463, shp2464, shp2465, shp2466, shp2467, shp2468, shp2469, shp2470, shp2471, shp2472, shp2473, shp2474, shp2475, shp2476, shp2477, shp2478, shp2479, shp2480, shp2481, shp2482, shp2483, shp2484, shp2485, shp2486, shp2487, shp2488, shp2489, shp2490, shp2491, shp2492, shp2493, shp2494, shp2495, shp2496, shp2497, shp2498, shp2499, shp2500, shp2501, shp2502, shp2503, shp2504, shp2505, shp2506, shp2507, shp2508, shp2509, shp2510, shp2511, shp2512, shp2513, shp2514, shp2515, shp2516, shp2517, shp2518, shp2519, shp2520, shp2521, shp2522, shp2523, shp2524, shp2525, shp2526, shp2527, shp2528, shp2529, shp2530, shp2531, shp2532, shp2533, shp2534, shp2535, shp2536, shp2537, shp2538, shp2539, shp2540, shp2541, shp2542, shp2543, shp2544, shp2545, shp2546, shp2547, shp2548, shp2549, shp2550, shp2551, shp2552, shp2553, shp2554, shp2555, shp2556, shp2557, shp2558, shp2559, shp2560, shp2561, shp2562, shp2563, shp2564, shp2565, shp2566, shp2567, shp2568, shp2569, shp2570, shp2571, shp2572, shp2573, shp2574, shp2575, shp2576, shp2577, shp2578, shp2579, shp2580, shp2581, shp2582, shp2583, shp2584, shp2585, shp2586, shp2587, shp2588, shp2589, shp2590, shp2591, shp2592, shp2593, shp2594, shp2595, shp2596, shp2597, shp2598, shp2599, shp2600, shp2601, shp2602, shp2603, shp2604, shp2605, shp2606, shp2607, shp2608, shp2609, shp2610, shp2611, shp2612, shp2613, shp2614, shp2615, shp2616, shp2617, shp2618, shp2619, shp2620, shp2621, shp2622, shp2623, shp2624, shp2625, shp2626, shp2627, shp2628, shp2629, shp2630, shp2631, shp2632, shp2633, shp2634, shp2635, shp2636, shp2637, shp2638, shp2639, shp2640, shp2641, shp2642, shp2643, shp2644, shp2645, shp2646, shp2647, shp2648, shp2649, shp2650, shp2651, shp2652, shp2653, shp2654, shp2655, shp2656, shp2657, shp2658, shp2659, shp2660, shp2661, shp2662, shp2663, shp2664, shp2665, shp2666, shp2667, shp2668, shp2669, shp2670, shp2671, shp2672, shp2673, shp2674, shp2675, shp2676, shp2677, shp2678, shp2679, shp2680, shp2681, shp2682, shp2683, shp2684, shp2685, shp2686, shp2687, shp2688, shp2689, shp2690, shp2691, shp2692, shp2693, shp2694, shp2695, shp2696, shp2697, shp2698, shp2699, shp2700, shp2701, shp2702, shp2703, shp2704, shp2705, shp2706, shp2707, shp2708, shp2709, shp2710, shp2711, shp2712, shp2713, shp2714, shp2715, shp2716, shp2717, shp2718, shp2719, shp2720, shp2721, shp2722, shp2723, shp2724, shp2725, shp2726, shp2727, shp2728, shp2729, shp2730, shp2731, shp2732, shp2733, shp2734, shp2735, shp2736, shp2737, shp2738, shp2739, shp2740, shp2741, shp2742, shp2743, shp2744, shp2745, shp2746, shp2747, shp2748, shp2749, shp2750, shp2751, shp2752, shp2753, shp2754, shp2755, shp2756, shp2757, shp2758, shp2759, shp2760, shp2761, shp2762, shp2763, shp2764, shp2765, shp2766, shp2767, shp2768, shp2769, shp2770, shp2771, shp2772, shp2773, shp2774, shp2775, shp2776, shp2777, shp2778, shp2779, shp2780, shp2781, shp2782, shp2783, shp2784, shp2785, shp2786, shp2787, shp2788, shp2789, shp2790, shp2791, shp2792, shp2793, shp2794, shp2795, shp2796, shp2797, shp2798, shp2799, shp2800, shp2801, shp2802, shp2803, shp2804, shp2805, shp2806, shp2807, shp2808, shp2809, shp2810, shp2811, shp2812, shp2813, shp2814, shp2815, shp2816, shp2817, shp2818, shp2819, shp2820, shp2821, shp2822, shp2823, shp2824, shp2825, shp2826, shp2827, shp2828, shp2829, shp2830, shp2831, shp2832, shp2833, shp2834, shp2835, shp2836, shp2837, shp2838, shp2839, shp2840, shp2841, shp2842, shp2843, shp2844, shp2845, shp2846, shp2847, shp2848, shp2849, shp2850, shp2851, shp2852, shp2853, shp2854, shp2855, shp2856, shp2857, shp2858, shp2859, shp2860, shp2861, shp2862, shp2863, shp2864, shp2865, shp2866, shp2867, shp2868, shp2869, shp2870, shp2871, shp2872, shp2873, shp2874, shp2875, shp2876, shp2877, shp2878, shp2879, shp2880, shp2881, shp2882, shp2883, shp2884, shp2885, shp2886, shp2887, shp2888, shp2889, shp2890, shp2891, shp2892, shp2893, shp2894, shp2895, shp2896, shp2897, shp2898, shp2899, shp2900, shp2901, shp2902, shp2903, shp2904, shp2905, shp2906, shp2907, shp2908, shp2909, shp2910, shp2911, shp2912, shp2913, shp2914, shp2915, shp2916, shp2917, shp2918, shp2919, shp2920, shp2921, shp2922, shp2923, shp2924, shp2925, shp2926, shp2927, shp2928, shp2929, shp2930, shp2931, shp2932, shp2933, shp2934, shp2935, shp2936, shp2937, shp2938, shp2939, shp2940, shp2941, shp2942, shp2943, shp2944, shp2945, shp2946, shp2947, shp2948, shp2949, shp2950, shp2951, shp2952, shp2953, shp2954, shp2955, shp2956, shp2957, shp2958, shp2959, shp2960, shp2961, shp2962, shp2963, shp2964, shp2965, shp2966, shp2967, shp2968, shp2969, shp2970, shp2971, shp2972, shp2973, shp2974, shp2975, shp2976, shp2977, shp2978, shp2979, shp2980, shp2981, shp2982, shp2983, shp2984, shp2985, shp2986, shp2987, shp2988, shp2989, shp2990, shp2991, shp2992, shp2993, shp2994, shp2995, shp2996, shp2997, shp2998, shp2999, shp3000, shp3001, shp3002, shp3003, shp3004, shp3005, shp3006, shp3007, shp3008, shp3009, shp3010, shp3011, shp3012, shp3013, shp3014, shp3015, shp3016, shp3017, shp3018, shp3019, shp3020, shp3021, shp3022, shp3023, shp3024, shp3025, shp3026, shp3027, shp3028, shp3029, shp3030, shp3031, shp3032, shp3033, shp3034, shp3035, shp3036, shp3037, shp3038, shp3039, shp3040, shp3041, shp3042, shp3043, shp3044, shp3045, shp3046, shp3047, shp3048, shp3049, shp3050, shp3051, shp3052, shp3053, shp3054, shp3055, shp3056, shp3057, shp3058, shp3059, shp3060, shp3061, shp3062, shp3063, shp3064, shp3065, shp3066, shp3067, shp3068, shp3069, shp3070, shp3071, shp3072, shp3073, shp3074, shp3075, shp3076, shp3077, shp3078, shp3079, shp3080, shp3081, shp3082, shp3083, shp3084, shp3085, shp3086, shp3087, shp3088, shp3089, shp3090, shp3091, shp3092, shp3093, shp3094, shp3095, shp3096, shp3097, shp3098, shp3099, shp3100, shp3101, shp3102, shp3103, shp3104, shp3105, shp3106, shp3107, shp3108, shp3109, shp3110, shp3111, shp3112, shp3113, shp3114, shp3115, shp3116, shp3117, shp3118, shp3119, shp3120, shp3121, shp3122, shp3123, shp3124, shp3125, shp3126, shp3127, shp3128, shp3129, shp3130, shp3131, shp3132, shp3133, shp3134, shp3135, shp3136, shp3137, shp3138, shp3139, shp3140, shp3141, shp3142, shp3143, shp3144, shp3145, shp3146, shp3147, shp3148, shp3149, shp3150, shp3151, shp3152, shp3153, shp3154, shp3155, shp3156, shp3157, shp3158, shp3159, shp3160, shp3161, shp3162, shp3163, shp3164, shp3165, shp3166, shp3167, shp3168, shp3169, shp3170, shp3171, shp3172, shp3173, shp3174, shp3175, shp3176, shp3177, shp3178, shp3179, shp3180, shp3181, shp3182, shp3183, shp3184, shp3185, shp3186, shp3187, shp3188, shp3189, shp3190, shp3191, shp3192, shp3193, shp3194, shp3195, shp3196, shp3197, shp3198, shp3199, shp3200, shp3201, shp3202, shp3203, shp3204, shp3205, shp3206, shp3207, shp3208, shp3209, shp3210, shp3211, shp3212, shp3213, shp3214, shp3215, shp3216, shp3217, shp3218, shp3219, shp3220, shp3221, shp3222, shp3223, shp3224, shp3225, shp3226, shp3227, shp3228, shp3229, shp3230, shp3231, shp3232, shp3233, shp3234, shp3235, shp3236, shp3237, shp3238, shp3239, shp3240, shp3241, shp3242, shp3243, shp3244, shp3245, shp3246, shp3247, shp3248, shp3249, shp3250, shp3251, shp3252, shp3253, shp3254, shp3255, shp3256, shp3257, shp3258, shp3259, shp3260, shp3261, shp3262, shp3263, shp3264, shp3265, shp3266, shp3267, shp3268, shp3269, shp3270, shp3271, shp3272, shp3273, shp3274, shp3275, shp3276, shp3277, shp3278, shp3279, shp3280, shp3281, shp3282, shp3283, shp3284, shp3285, shp3286, shp3287, shp3288, shp3289, shp3290, shp3291, shp3292, shp3293, shp3294, shp3295, shp3296, shp3297, shp3298, shp3299, shp3300, shp3301, shp3302, shp3303, shp3304, shp3305, shp3306, shp3307, shp3308, shp3309, shp3310, shp3311, shp3312, shp3313, shp3314, shp3315, shp3316, shp3317, shp3318, shp3319, shp3320, shp3321, shp3322, shp3323, shp3324, shp3325, shp3326, shp3327, shp3328, shp3329, shp3330, shp3331, shp3332, shp3333, shp3334, shp3335, shp3336, shp3337, shp3338, shp3339, shp3340, shp3341, shp3342, shp3343, shp3344, shp3345, shp3346, shp3347, shp3348, shp3349, shp3350, shp3351, shp3352, shp3353, shp3354, shp3355, shp3356, shp3357, shp3358, shp3359, shp3360, shp3361, shp3362, shp3363, shp3364, shp3365, shp3366, shp3367, shp3368, shp3369, shp3370, shp3371, shp3372, shp3373, shp3374, shp3375, shp3376, shp3377, shp3378, shp3379, shp3380, shp3381, shp3382, shp3383, shp3384, shp3385, shp3386, shp3387, shp3388, shp3389, shp3390, shp3391, shp3392, shp3393, shp3394, shp3395, shp3396, shp3397, shp3398, shp3399, shp3400, shp3401, shp3402, shp3403, shp3404, shp3405, shp3406, shp3407, shp3408, shp3409, shp3410, shp3411, shp3412, shp3413, shp3414, shp3415, shp3416, shp3417, shp3418, shp3419, shp3420, shp3421, shp3422, shp3423, shp3424, shp3425, shp3426, shp3427, shp3428, shp3429, shp3430, shp3431, shp3432, shp3433, shp3434, shp3435, shp3436, shp3437, shp3438, shp3439, shp3440, shp3441, shp3442, shp3443, shp3444, shp3445, shp3446, shp3447, shp3448, shp3449, shp3450, shp3451, shp3452, shp3453, shp3454, shp3455, shp3456, shp3457, shp3458, shp3459, shp3460, shp3461, shp3462, shp3463, shp3464, shp3465, shp3466, shp3467, shp3468, shp3469, shp3470, shp3471, shp3472, shp3473, shp3474, shp3475, shp3476, shp3477, shp3478, shp3479, shp3480, shp3481, shp3482, shp3483, shp3484, shp3485, shp3486, shp3487, shp3488, shp3489, shp3490, shp3491, shp3492, shp3493, shp3494, shp3495, shp3496, shp3497, shp3498, shp3499, shp3500, shp3501, shp3502, shp3503, shp3504, shp3505, shp3506, shp3507, shp3508, shp3509, shp3510, shp3511, shp3512, shp3513, shp3514, shp3515, shp3516, shp3517, shp3518, shp3519, shp3520, shp3521, shp3522, shp3523, shp3524, shp3525, shp3526, shp3527, shp3528, shp3529, shp3530, shp3531, shp3532, shp3533, shp3534, shp3535, shp3536, shp3537, shp3538, shp3539, shp3540, shp3541, shp3542, shp3543, shp3544, shp3545, shp3546, shp3547, shp3548, shp3549, shp3550, shp3551, shp3552, shp3553, shp3554, shp3555, shp3556, shp3557, shp3558, shp3559, shp3560, shp3561, shp3562, shp3563, shp3564, shp3565, shp3566, shp3567, shp3568, shp3569, shp3570, shp3571, shp3572, shp3573, shp3574, shp3575, shp3576, shp3577, shp3578, shp3579, shp3580, shp3581, shp3582, shp3583, shp3584, shp3585, shp3586, shp3587, shp3588, shp3589, shp3590, shp3591, shp3592, shp3593, shp3594, shp3595, shp3596, shp3597, shp3598, shp3599, shp3600, shp3601, shp3602, shp3603, shp3604, shp3605, shp3606, shp3607, shp3608, shp3609, shp3610, shp3611, shp3612, shp3613, shp3614, shp3615, shp3616, shp3617, shp3618, shp3619, shp3620, shp3621, shp3622, shp3623, shp3624, shp3625, shp3626, shp3627, shp3628, shp3629, shp3630, shp3631, shp3632, shp3633, shp3634, shp3635, shp3636, shp3637, shp3638, shp3639, shp3640, shp3641, shp3642, shp3643, shp3644, shp3645, shp3646, shp3647, shp3648, shp3649, shp3650, shp3651, shp3652, shp3653, shp3654, shp3655, shp3656, shp3657, shp3658, shp3659, shp3660, shp3661, shp3662, shp3663, shp3664, shp3665, shp3666, shp3667, shp3668, shp3669, shp3670, shp3671, shp3672, shp3673, shp3674, shp3675, shp3676, shp3677, shp3678, shp3679, shp3680, shp3681, shp3682, shp3683, shp3684, shp3685, shp3686, shp3687, shp3688, shp3689, shp3690, shp3691, shp3692, shp3693, shp3694, shp3695, shp3696, shp3697, shp3698, shp3699, shp3700, shp3701, shp3702, shp3703, shp3704, shp3705, shp3706, shp3707, shp3708, shp3709, shp3710, shp3711, shp3712, shp3713, shp3714, shp3715, shp3716, shp3717, shp3718, shp3719, shp3720, shp3721, shp3722, shp3723, shp3724, shp3725, shp3726, shp3727, shp3728, shp3729, shp3730, shp3731, shp3732, shp3733, shp3734, shp3735, shp3736, shp3737, shp3738, shp3739, shp3740, shp3741, shp3742, shp3743, shp3744, shp3745, shp3746, shp3747, shp3748, shp3749, shp3750, shp3751, shp3752, shp3753, shp3754, shp3755, shp3756, shp3757, shp3758, shp3759, shp3760, shp3761, shp3762, shp3763, shp3764, shp3765, shp3766, shp3767, shp3768, shp3769, shp3770, shp3771, shp3772, shp3773, shp3774, shp3775, shp3776, shp3777, shp3778, shp3779, shp3780, shp3781, shp3782, shp3783, shp3784, shp3785, shp3786, shp3787, shp3788, shp3789, shp3790, shp3791, shp3792, shp3793, shp3794, shp3795, shp3796, shp3797, shp3798, shp3799, shp3800, shp3801, shp3802, shp3803, shp3804, shp3805, shp3806, shp3807, shp3808, shp3809, shp3810, shp3811, shp3812, shp3813, shp3814, shp3815, shp3816, shp3817, shp3818, shp3819, shp3820, shp3821, shp3822, shp3823, shp3824, shp3825, shp3826, shp3827, shp3828, shp3829, shp3830, shp3831, shp3832, shp3833, shp3834, shp3835, shp3836, shp3837, shp3838, shp3839, shp3840, shp3841, shp3842, shp3843, shp3844, shp3845, shp3846, shp3847, shp3848, shp3849, shp3850, shp3851, shp3852, shp3853, shp3854, shp3855, shp3856, shp3857, shp3858, shp3859, shp3860, shp3861, shp3862, shp3863, shp3864, shp3865, shp3866, shp3867, shp3868, shp3869, shp3870, shp3871, shp3872, shp3873, shp3874, shp3875, shp3876, shp3877, shp3878, shp3879, shp3880, shp3881, shp3882, shp3883, shp3884, shp3885, shp3886, shp3887, shp3888, shp3889, shp3890, shp3891, shp3892, shp3893, shp3894, shp3895, shp3896, shp3897, shp3898, shp3899, shp3900, shp3901, shp3902, shp3903, shp3904, shp3905, shp3906, shp3907, shp3908, shp3909, shp3910, shp3911, shp3912, shp3913, shp3914, shp3915, shp3916, shp3917, shp3918, shp3919, shp3920, shp3921, shp3922, shp3923, shp3924, shp3925, shp3926, shp3927, shp3928, shp3929, shp3930, shp3931, shp3932, shp3933, shp3934, shp3935, shp3936, shp3937, shp3938, shp3939, shp3940, shp3941, shp3942, shp3943, shp3944, shp3945, shp3946, shp3947, shp3948, shp3949, shp3950, shp3951, shp3952, shp3953, shp3954, shp3955, shp3956, shp3957, shp3958, shp3959, shp3960, shp3961, shp3962, shp3963, shp3964, shp3965, shp3966, shp3967, shp3968, shp3969, shp3970, shp3971, shp3972, shp3973, shp3974, shp3975, shp3976, shp3977, shp3978, shp3979, shp3980, shp3981, shp3982, shp3983, shp3984, shp3985, shp3986, shp3987, shp3988, shp3989, shp3990, shp3991, shp3992, shp3993, shp3994, shp3995, shp3996, shp3997, shp3998, shp3999, shp4000, shp4001, shp4002, shp4003, shp4004, shp4005, shp4006, shp4007, shp4008, shp4009, shp4010, shp4011, shp4012, shp4013, shp4014, shp4015, shp4016, shp4017, shp4018, shp4019, shp4020, shp4021, shp4022, shp4023, shp4024, shp4025, shp4026, shp4027, shp4028, shp4029, shp4030, shp4031, shp4032, shp4033, shp4034, shp4035, shp4036, shp4037, shp4038, shp4039, shp4040, shp4041, shp4042, shp4043, shp4044, shp4045, shp4046, shp4047, shp4048, shp4049, shp4050, shp4051, shp4052, shp4053, shp4054, shp4055, shp4056, shp4057, shp4058, shp4059, shp4060, shp4061, shp4062, shp4063, shp4064, shp4065, shp4066, shp4067, shp4068, shp4069, shp4070, shp4071, shp4072, shp4073, shp4074, shp4075, shp4076, shp4077, shp4078, shp4079, shp4080, shp4081, shp4082, shp4083, shp4084, shp4085, shp4086, shp4087, shp4088, shp4089, shp4090, shp4091, shp4092, shp4093, shp4094, shp4095, shp4096, shp4097, shp4098, shp4099, shp4100, shp4101, shp4102, shp4103, shp4104, shp4105, shp4106, shp4107, shp4108, shp4109, shp4110, shp4111, shp4112, shp4113, shp4114, shp4115, shp4116, shp4117, shp4118, shp4119, shp4120, shp4121, shp4122, shp4123, shp4124, shp4125, shp4126, shp4127, shp4128, shp4129, shp4130, shp4131, shp4132, shp4133, shp4134, shp4135, shp4136, shp4137, shp4138, shp4139, shp4140, shp4141, shp4142, shp4143, shp4144, shp4145, shp4146, shp4147, shp4148, shp4149, shp4150, shp4151, shp4152, shp4153, shp4154, shp4155, shp4156, shp4157, shp4158, shp4159, shp4160, shp4161, shp4162, shp4163, shp4164, shp4165, shp4166, shp4167, shp4168, shp4169, shp4170, shp4171, shp4172, shp4173, shp4174, shp4175, shp4176, shp4177, shp4178, shp4179, shp4180, shp4181, shp4182, shp4183, shp4184, shp4185, shp4186, shp4187, shp4188, shp4189, shp4190, shp4191, shp4192, shp4193, shp4194, shp4195, shp4196, shp4197, shp4198, shp4199, shp4200, shp4201, shp4202, shp4203, shp4204, shp4205, shp4206, shp4207, shp4208, shp4209, shp4210, shp4211, shp4212, shp4213, shp4214, shp4215, shp4216, shp4217, shp4218, shp4219, shp4220, shp4221, shp4222, shp4223, shp4224, shp4225, shp4226, shp4227, shp4228, shp4229, shp4230, shp4231, shp4232, shp4233, shp4234, shp4235, shp4236, shp4237, shp4238, shp4239, shp4240, shp4241, shp4242, shp4243, shp4244, shp4245, shp4246, shp4247, shp4248, shp4249, shp4250, shp4251, shp4252, shp4253, shp4254, shp4255, shp4256, shp4257, shp4258, shp4259, shp4260, shp4261, shp4262, shp4263, shp4264, shp4265, shp4266, shp4267, shp4268, shp4269, shp4270, shp4271, shp4272, shp4273, shp4274, shp4275, shp4276, shp4277, shp4278, shp4279, shp4280, shp4281, shp4282, shp4283, shp4284, shp4285, shp4286, shp4287, shp4288, shp4289, shp4290, shp4291, shp4292, shp4293, shp4294, shp4295, shp4296, shp4297, shp4298, shp4299, shp4300, shp4301, shp4302, shp4303, shp4304, shp4305, shp4306, shp4307, shp4308, shp4309, shp4310, shp4311, shp4312, shp4313, shp4314, shp4315, shp4316, shp4317, shp4318, shp4319, shp4320, shp4321, shp4322, shp4323, shp4324, shp4325, shp4326, shp4327, shp4328, shp4329, shp4330, shp4331, shp4332, shp4333, shp4334, shp4335, shp4336, shp4337, shp4338, shp4339, shp4340, shp4341, shp4342, shp4343, shp4344, shp4345, shp4346, shp4347, shp4348, shp4349, shp4350, shp4351, shp4352, shp4353, shp4354, shp4355, shp4356, shp4357, shp4358, shp4359, shp4360, shp4361, shp4362, shp4363, shp4364, shp4365, shp4366, shp4367, shp4368, shp4369, shp4370, shp4371, shp4372, shp4373, shp4374, shp4375, shp4376, shp4377, shp4378, shp4379, shp4380, shp4381, shp4382, shp4383, shp4384, shp4385, shp4386, shp4387, shp4388, shp4389, shp4390, shp4391, shp4392, shp4393, shp4394, shp4395, shp4396, shp4397, shp4398, shp4399, shp4400, shp4401, shp4402, shp4403, shp4404, shp4405, shp4406, shp4407, shp4408, shp4409, shp4410, shp4411, shp4412, shp4413, shp4414, shp4415, shp4416, shp4417, shp4418, shp4419, shp4420, shp4421, shp4422, shp4423, shp4424, shp4425, shp4426, shp4427, shp4428, shp4429, shp4430, shp4431, shp4432, shp4433, shp4434, shp4435, shp4436, shp4437, shp4438, shp4439, shp4440, shp4441, shp4442, shp4443, shp4444, shp4445, shp4446, shp4447, shp4448, shp4449, shp4450, shp4451, shp4452, shp4453, shp4454, shp4455, shp4456, shp4457, shp4458, shp4459, shp4460, shp4461, shp4462, shp4463, shp4464, shp4465, shp4466, shp4467, shp4468, shp4469, shp4470, shp4471, shp4472, shp4473, shp4474, shp4475, shp4476, shp4477, shp4478, shp4479, shp4480, shp4481, shp4482, shp4483, shp4484, shp4485, shp4486, shp4487, shp4488, shp4489, shp4490, shp4491, shp4492, shp4493, shp4494, shp4495, shp4496, shp4497, shp4498, shp4499, shp4500, shp4501, shp4502, shp4503, shp4504, shp4505, shp4506, shp4507, shp4508, shp4509, shp4510, shp4511, shp4512, shp4513, shp4514, shp4515, shp4516, shp4517, shp4518, shp4519, shp4520, shp4521, shp4522, shp4523, shp4524, shp4525, shp4526, shp4527, shp4528, shp4529, shp4530, shp4531, shp4532, shp4533, shp4534, shp4535, shp4536, shp4537, shp4538, shp4539, shp4540, shp4541, shp4542, shp4543, shp4544, shp4545, shp4546, shp4547, shp4548, shp4549, shp4550, shp4551, shp4552, shp4553, shp4554, shp4555, shp4556, shp4557, shp4558, shp4559, shp4560, shp4561, shp4562, shp4563, shp4564, shp4565, shp4566, shp4567, shp4568, shp4569, shp4570, shp4571, shp4572, shp4573, shp4574, shp4575, shp4576, shp4577, shp4578, shp4579, shp4580, shp4581, shp4582, shp4583, shp4584, shp4585, shp4586, shp4587, shp4588, shp4589, shp4590, shp4591, shp4592, shp4593, shp4594, shp4595, shp4596, shp4597, shp4598, shp4599, shp4600, shp4601, shp4602, shp4603, shp4604, shp4605, shp4606, shp4607, shp4608, shp4609, shp4610, shp4611, shp4612, shp4613, shp4614, shp4615, shp4616, shp4617, shp4618, shp4619, shp4620, shp4621, shp4622, shp4623, shp4624, shp4625, shp4626, shp4627, shp4628, shp4629, shp4630, shp4631, shp4632, shp4633, shp4634, shp4635, shp4636, shp4637, shp4638, shp4639, shp4640, shp4641, shp4642, shp4643, shp4644, shp4645, shp4646, shp4647, shp4648, shp4649, shp4650, shp4651, shp4652, shp4653, shp4654, shp4655, shp4656, shp4657, shp4658, shp4659, shp4660, shp4661, shp4662, shp4663, shp4664, shp4665, shp4666, shp4667, shp4668, shp4669, shp4670, shp4671, shp4672, shp4673, shp4674, shp4675, shp4676, shp4677, shp4678, shp4679, shp4680, shp4681, shp4682, shp4683, shp4684, shp4685, shp4686, shp4687, shp4688, shp4689, shp4690, shp4691, shp4692, shp4693, shp4694, shp4695, shp4696, shp4697, shp4698, shp4699, shp4700, shp4701, shp4702, shp4703, shp4704, shp4705, shp4706, shp4707, shp4708, shp4709, shp4710, shp4711, shp4712, shp4713, shp4714, shp4715, shp4716, shp4717, shp4718, shp4719, shp4720, shp4721, shp4722, shp4723, shp4724, shp4725, shp4726, shp4727, shp4728, shp4729, shp4730, shp4731, shp4732, shp4733, shp4734, shp4735, shp4736, shp4737, shp4738, shp4739, shp4740, shp4741, shp4742, shp4743, shp4744, shp4745, shp4746, shp4747, shp4748, shp4749, shp4750, shp4751, shp4752, shp4753, shp4754, shp4755, shp4756, shp4757, shp4758, shp4759, shp4760, shp4761, shp4762, shp4763, shp4764, shp4765, shp4766, shp4767, shp4768, shp4769, shp4770, shp4771, shp4772, shp4773, shp4774, shp4775, shp4776, shp4777, shp4778, shp4779, shp4780, shp4781, shp4782, shp4783, shp4784, shp4785, shp4786, shp4787, shp4788, shp4789, shp4790, shp4791, shp4792, shp4793, shp4794, shp4795, shp4796, shp4797, shp4798, shp4799, shp4800, shp4801, shp4802, shp4803, shp4804, shp4805, shp4806, shp4807, shp4808, shp4809, shp4810, shp4811, shp4812, shp4813, shp4814, shp4815, shp4816, shp4817, shp4818, shp4819, shp4820, shp4821, shp4822, shp4823, shp4824, shp4825, shp4826, shp4827, shp4828, shp4829, shp4830, shp4831, shp4832, shp4833, shp4834, shp4835, shp4836, shp4837, shp4838, shp4839, shp4840, shp4841, shp4842, shp4843, shp4844, shp4845, shp4846, shp4847, shp4848, shp4849, shp4850, shp4851, shp4852, shp4853, shp4854, shp4855, shp4856, shp4857, shp4858, shp4859, shp4860, shp4861, shp4862, shp4863, shp4864, shp4865, shp4866, shp4867, shp4868, shp4869, shp4870, shp4871, shp4872, shp4873, shp4874, shp4875, shp4876, shp4877, shp4878, shp4879, shp4880, shp4881, shp4882, shp4883, shp4884, shp4885, shp4886, shp4887, shp4888, shp4889, shp4890, shp4891, shp4892, shp4893, shp4894, shp4895, shp4896, shp4897, shp4898, shp4899, shp4900, shp4901, shp4902, shp4903, shp4904, shp4905, shp4906, shp4907, shp4908, shp4909, shp4910, shp4911, shp4912, shp4913, shp4914, shp4915, shp4916, shp4917, shp4918, shp4919, shp4920, shp4921, shp4922, shp4923, shp4924, shp4925, shp4926, shp4927, shp4928, shp4929, shp4930, shp4931, shp4932, shp4933, shp4934, shp4935, shp4936, shp4937, shp4938, shp4939, shp4940, shp4941, shp4942, shp4943, shp4944, shp4945, shp4946, shp4947, shp4948, shp4949, shp4950, shp4951, shp4952, shp4953, shp4954, shp4955, shp4956, shp4957, shp4958, shp4959, shp4960, shp4961, shp4962, shp4963, shp4964, shp4965, shp4966, shp4967, shp4968, shp4969, shp4970, shp4971, shp4972, shp4973, shp4974, shp4975, shp4976, shp4977, shp4978, shp4979, shp4980, shp4981, shp4982, shp4983, shp4984, shp4985, shp4986, shp4987, shp4988, shp4989, shp4990, shp4991, shp4992, shp4993, shp4994, shp4995, shp4996, shp4997, shp4998, shp4999: TShape;

    procedure FormClose(Sender: TObject; var {%H-}CloseAction: TCloseAction);
    procedure FormCreate(Sender: TObject);
    procedure Show;
  private

  public
    TShapePtrArray: TShapePointerList;

  end;

var
  frmSimulation: TfrmSimulation;

implementation

{$R *.lfm}

uses
  { Forms }
  frmMain_u;

{ TfrmSimulation }

procedure TfrmSimulation.FormCreate(Sender: TObject);
{
  During the initial simulation, gather all pointers of the TShape objects
  to the relative list that will hold those pointers during each simulation.
}

var
  i: Integer;

begin
  if not Assigned(TShapePtrArray[0]) then begin
    for i := 0 to self.ComponentCount - 1 do begin
        TShapePtrArray[i] := self.FieldAddress('shp' + IntToStr(i));
    end;
  end;
end;

procedure TfrmSimulation.FormClose(Sender: TObject;
  var CloseAction: TCloseAction);
{
  When closing the simulation window make sure that every TShape object that
  became visible during the simulation is now again not visible.
}

var
  i: Integer;

begin
  for i := 0 to Length(frmMain.Nodes) - 1 do begin
    TShapePtrArray[i]^.Visible := false;
  end;

end;

procedure TfrmSimulation.Show;
var
  i: Integer;
  ShapeWidth: Integer;
  ShapeHeight: Integer;
  ShapeTopPossition: Integer = 0;
  ShapeLeftPossition: Integer = 0;
  HorizontalObjectCount: Integer;
  VerticalObjectCount: Integer;
begin
  inherited;

  {
    Define the width and height of each TShape object given the 2d dimensions of
    the simulation window.
  }
  { ************************************************************************** }
  ShapeWidth := Floor(Sqrt(self.Width * self.Height / Length(frmMain.Nodes)));
  HorizontalObjectCount := Floor(self.Width / ShapeWidth);
  VerticalObjectCount := Floor(self.Height / ShapeWidth);

  while HorizontalObjectCount * VerticalObjectCount < Length(frmMain.Nodes) do
  begin
      Dec(ShapeWidth);
      HorizontalObjectCount := Floor(self.Width / ShapeWidth);
      VerticalObjectCount := Floor(self.Height / ShapeWidth);
  end;

  ShapeHeight := ShapeWidth;
  { ************************************************************************** }

  {
    Render all the TShape objects needed for the simulation, using the
    dimensions that were calculated above. A small padding is used to the right
    of the simulation window in order to ensure that all TShape objects will
    gracefully appear inside the simulation window.
  }
  if Assigned(frmMain.Nodes) and (Length(frmMain.Nodes) > 0) then begin

    for i := 0 to Length(frmMain.Nodes) - 1 do begin

        if ShapeLeftPossition >= (self.Width - ShapeWidth + 1) then begin
          ShapeTopPossition := ShapeTopPossition + ShapeHeight;
          ShapeLeftPossition := 0;
        end;

        TShapePtrArray[i]^.Height := ShapeHeight;
        TShapePtrArray[i]^.Width := ShapeWidth;
        TShapePtrArray[i]^.Left := ShapeLeftPossition;
        TShapePtrArray[i]^.Top := ShapeTopPossition;
        TShapePtrArray[i]^.Visible := true;

        frmMain.Nodes[i].SetShape(TShapePtrArray[i]);

        ShapeLeftPossition := ShapeLeftPossition + ShapeWidth;
    end;

  end;

end;

end.

